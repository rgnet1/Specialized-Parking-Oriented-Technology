<!DOCTYPE HTML>
<html>

<head>
  <title>Parking Management - East Remote</title>
  <meta name="description" content="website description" />
  <meta name="keywords" content="website keywords, website keywords" />
  <meta http-equiv="content-type" content="text/html; charset=windows-1252" />
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/** {
    box-sizing: border-box;
}*/

body {
    margin: 0px;
    font-family: Arial;
    box-sizing: border-box;
}
.alignleft {
  float: left;
}
.alignright {
  float: right;
}
/* The grid: Three equal columns that floats next to each other */
.parkingSpace {
    float: left;
    width: 8%;
    padding: 25px;
    text-align: center;
    font-size: 25px;
    cursor: pointer;
    color: white;
    box-sizing: border-box;
}

.containerTab {
    padding: 20px;
    color: white;
}

/* Clear floats after the columns */
.row:after {
    content: "";
    display: table;
    clear: both;
    box-sizing: border-box;
}
/* The Modal (background) */
.parkingDetails {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    padding-top: 100px; /* Location of the box */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    box-sizing: border-box;

}

/* Modal Content */
.parkingDetails-content {
    background-color: #fefefe;
    margin: auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    box-sizing: border-box;

}
/* The Close Button */
.close {
    color: #aaaaaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    box-sizing: border-box;
}

.close:hover,
.close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
    box-sizing: border-box;
}
.myContainer{
    width: 300px;
    float: center;
}

.key {
  width: 20px;
  height: 20px;
  margin: 5px;
  border: 1px solid rgba(0, 0, 0, .2);
}

.blue {
  float: center;
  background: blue;
}

.green {
  background: green;
}

.red{
  background: red;
}
.yellow{
  background: yellow;
}
.grey{
  background: grey;
}
.tab { 
       display:inline-block; 
       margin-left: 40px; 
}
</style>
</head>

<body onload="myOnLoad()">
  <div id="main">
    <div id="header">
      <div id="logo">
        <div id="logo_text">
          <!-- class="logo_colour", allows you to change the colour of the text -->
          <h1><a href="/">Parking Management <span class="logo_colour">UC Santa Cruz</span></a></h1>
          <h2>Administrator Website.</h2>
        </div>
      </div>
      <div id="menubar">
        <ul id="menu">
          <!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
          <li><a href="/">Home</a></li>
          <li><a href="Users">Search Users</a></li>
          <li><a href="Add">Add Users</a></li>
          <li><a href="NorthRemote">North Remote Lot</a></li>
          <li class="selected"><a href="EastRemote">East Remote Lot</a></li>
          <li><a href="Baskin">Baskin Lot</a></li>
        </ul>
      </div>
    </div>
    <div id="content_header"></div>
    <!--<div id="site_content">
      
      <div id="content"> -->
        <!-- insert the page content here -->
      <div class = "myContainer" style="margin:0 auto">
        <div style="text-align:center">
          <h1>East Remote</h1>
          <fieldset>
          <legend><h1>Legend</h1></legend>
            <div class="key green"> <p> <span class="tab" >Open&nbsp;spot</span></p></div>
            <div class="key blue"> <p> <span class="tab" >Legal&nbsp;User&nbsp;(Spot&nbsp;in&nbsp;use)</span></p></div>
            <div class="key yellow"><p> <span class="tab" >Busy&nbsp;(verification&nbsp;in&nbsp;progress)</span></p></div>
            <div class="key red" ><p> <span class="tab" >Illegal&nbsp;user</span></p></div>
            <div class="key grey" ><p> <span class="tab" >Database&nbsp;is&nbsp;offline</span></p></div>
          </fieldset>
          
        </div>
        <center><p><br>&nbsp;&nbsp;&nbsp;Click a parking spot to see details</p></center>
      </div>
          
        

<!-- Three columns -->
<div class="row">
  <div class="parkingSpace";" style="background:white;">
  </div>
 
  <div id = '1' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','1');" style="background:grey;border:3px solid black;">
    1
  </div>
  <div id='2' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','2');" style="background:grey;border:3px solid black;">
    2
  </div>
   <div id = '3' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','3');" style="background:grey;border:3px solid black;">
    3
   </div>
      <div id = '4' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','4');" style="background:grey;border:3px solid black;">
    4
  </div>
   <div id = '5' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','5');" style="background:grey;border:3px solid black;">
    5
  </div>
  <div id = '6' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','6');" style="background:grey;border:3px solid black;">
    6
  </div>
  <div id = '7' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','7');" style="background:grey;border:3px solid black;">
    7
  </div>
  <div id = '8' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','8');" style="background:grey;border:3px solid black;">
    8
  </div>
  <div id = '9' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','9');" style="background:grey;border:3px solid black;">
    9
  </div>
  <div id = '10' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','10');" style="background:grey;border:3px solid black;">
    10
  </div>
<div class="parkingSpace";" style="background:white;">
  </div>
 </div>


<div class="row">
  <div id='11' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','11');" style="background:grey;border:3px solid black;">
    11
  </div>
   <div class="parkingSpace";" style="background:white;">
  </div>
   <div class="parkingSpace";" style="background:white;">
  </div>
   <div class="parkingSpace";" style="background:white;">
  </div>
   <div class="parkingSpace";" style="background:white;">
  </div>
   <div class="parkingSpace";" style="background:white;">
  </div>
   <div class="parkingSpace";" style="background:white;">
  </div>
   <div class="parkingSpace";" style="background:white;">
  </div>
   <div class="parkingSpace";" style="background:white;">
  </div>
  <div class="parkingSpace";" style="background:white;">
  </div>
   <div class="parkingSpace";" style="background:white;">
  </div>
   <div id='24' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','24');" style="background:grey;border:3px solid black;">
    24
  </div>
   </div>
</div>
<div class="row">
  <div id='12' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','12');" style="background:grey;border:3px solid black;">
    12
  </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='25' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','25');" style="background:grey;border:3px solid black;">
          25
        </div>
</div>
<div class="row">
  </div>
  <div id = '13' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','13');" style="background:grey;border:3px solid black;">
    13
  </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div id='40' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','40');" style="background:grey;border:3px solid black;">
          40
        </div>
        <div id='41' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','41');" style="background:grey;border:3px solid black;">
          41
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='26' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','26');" style="background:grey;border:3px solid black;">
          26
        </div>
  <div class="row">
  </div>
  <div id = '14' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','14');" style="background:grey;border:3px solid black;">
    14
  </div>
       <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div id='42' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','42');" style="background:grey;border:3px solid black;">
          42
        </div>
        <div id='43' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','43');" style="background:grey;border:3px solid black;">
          43
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='27' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','27');" style="background:grey;border:3px solid black;">
          27
        </div>


  <div class="row">
  </div>
  <div id = '15' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','15');" style="background:grey;border:3px solid black;">
    15
  </div>
       <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div id='44' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','44');" style="background:grey;border:3px solid black;">
          44
        </div>
        <div id='43' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','45');" style="background:grey;border:3px solid black;">
          45
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='28' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','28');" style="background:grey;border:3px solid black;">
          28
        </div>
  <div class="row">
  </div>
  <div id = '16' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','16');" style="background:grey;border:3px solid black;">
    16
  </div>
      <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div id='46' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','46');" style="background:grey;border:3px solid black;">
          46
        </div>
        <div id='47' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','47');" style="background:grey;border:3px solid black;">
          47
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='29' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','29');" style="background:grey;border:3px solid black;">
          29
        </div>
  <div class="row">
  </div>
  <div id = '17' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','17');" style="background:grey;border:3px solid black;">
    17
  </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div id='48' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','48');" style="background:grey;border:3px solid black;">
          48
        </div>
        <div id='49' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','49');" style="background:grey;border:3px solid black;">
          49
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='30' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','30');" style="background:grey;border:3px solid black;">
          30
        </div>
  <div class="row">
  </div>
  <div id = '18' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','18');" style="background:grey;border:3px solid black;">
    18
  </div>
  <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div id='50' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','50');" style="background:grey;border:3px solid black;">
          50
        </div>
        <div id='51' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','51');" style="background:grey;border:3px solid black;">
          51
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='31' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','31');" style="background:grey;border:3px solid black;">
          31
        </div>
  <div class="row">
  </div>
  <div id = '19' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','19');" style="background:grey;border:3px solid black;">
    19
  </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='32' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','32');" style="background:grey;border:3px solid black;">
          32
        </div>
  <div class="row">
  </div>
  <div id = '20' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','20');" style="background:grey;border:3px solid black;">
    20
  </div>
    <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='33' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','33');" style="background:grey;border:3px solid black;">
          33
        </div>
  <div class="row">
  </div>
  <div id = '21' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','21');" style="background:grey;border:3px solid black;">
    21
  </div>
    <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='34' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','34');" style="background:grey;border:3px solid black;">
          34
        </div>
  <div class="row">
  </div>
  <div id = '22' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','22');" style="background:grey;border:3px solid black;">
    22
  </div>
   </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div id='39' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','39');" style="background:grey;border:3px solid black;">
          39
        </div>
        <div id='38' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','38');" style="background:grey;border:3px solid black;">
          38
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
         <div id='35' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','35');" style="background:grey;border:3px solid black;">
          35
        </div>

  <div class="row">
  </div>
  <div id = '23' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','23');" style="background:grey;border:3px solid black;">
    23
  </div>
  <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
         <div id='37' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','37');" style="background:grey;border:3px solid black;">
          37
        </div>
        <div id='36' class="parkingSpace" onclick="parkingDetailsConfigure(this,'EastRemote','36');" style="background:grey;border:3px solid black;">
          36
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
         <div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div><div class="parkingSpace";" style="background:white;">
        </div>
        <div class="parkingSpace";" style="background:white;">
        </div>
</div>
</div>

<!-- Full-width columns: (hidden by default) -->
<div id="parkingDetails" class="parkingDetails">

  <div id="parkingDetailsContent" class = "parkingDetails-content">
   
    

    <span class="close">&times;</span>
    <div id="textbox">
  <h2 id="title" class="alignleft"></h2>
  <h2 id="title2" color ="white" class="alignright"></h2>
  </div>
  <div style="clear: both;"></div>
    <!-- <span onclick="this.parentElement.style.display='none'" class="closebtn">&times;</span> -->
  <p color="white" id="details"></p>
  <p color="white" id="details2"></p>
  </div>
      </div>

  <script>
    var RREFRESHINTERVAL = 5000;
function parkingDetailsConfigure(parkingSpace, lot, spot) {
  //var i, x;
  // x = document.getElementsByClassName("containerTab");
  // for (i = 0; i < x.length; i++) {
  //    x[i].style.display = "none";
  // }
  var parkingDetails = document.getElementById("parkingDetails");
  var parkingDetailsContent = document.getElementById("parkingDetailsContent");
  // Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];
  parkingDetails.style.display = "block";

  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
    parkingDetails.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == parkingDetails) {
        parkingDetails.style.display = "none";
    }
}

// Get the <span> element that closes the modal
  
  var client = new HttpClient();
  //https://cors.io/?
  //http://car-management-66420.appspot.com/get_spotinfo?Parking_Lot=EastRemote@Spots=1
  //alert(lot);
  var url = 'https://cors.io/?https://car-management-66420.appspot.com/get_spotinfo?Parking_Lot='+lot+'&Spots='+spot;
  //alert(url);

  client.get(url, function(response) {
      // do something with response
    // alert('Resonse is '+response);
     var result = JSON.parse(response)

     document.getElementById("title").innerHTML = '<font color="white">'+lot+' '+spot+ '</font>';
     document.getElementById("title2").innerHTML ='<font color="white">'+'Spot Type: '+result.Spot_Type+ '</font>';
     document.getElementById("details").innerHTML = '<font color="white">'+
      'Current Status: '+ result.Status+ '</font>';
      var color = colorForStatus(result.Status);
     parkingSpace.style.background= color;
     console.log(color);
     if(color =="blue"){
        document.getElementById("details2").innerHTML = '<font color="white">'+
        '<br><br>User: '+result.User_ID +
      '<br>User\'s permit: '+ result.Permit_Type+ '</font>';
     }else{
      document.getElementById("details2").innerHTML = '';
     }

     parkingDetailsContent.style.background=color;
  });

  
}
function myOnLoad(){
    reloadAllSpots("EastRemote");
    var myVar = setInterval(reloadEastRemote, RREFRESHINTERVAL );

}
function reloadEastRemote(){
  reloadAllSpots("EastRemote");
}

function reloadAllSpots(lot){
  console.log("In reeload Spots");
  var parkingSpaces=document.getElementsByClassName("parkingSpace");
  //get_parkinglot
  var url = 'https://cors.io/?https://car-management-66420.appspot.com/get_parkinglot?Parking_Lot='+lot;
  console.log('requesting from: '+url);
   var client = new HttpClient();
  client.get(url, function(response) {
      // do something with response
    //about to print the response
    // alert('Resonse is '+response);
     var result = JSON.parse(response)
     Array.prototype.forEach.call(parkingSpaces, function(parkingSpace){

      var spaceData = result[parkingSpace.id];

      var color = colorForStatus(spaceData);
      parkingSpace.style.background= color;
     // parkingDetailsContent.style.background=color;

     });
    
  });
  
}


function colorForStatus(status){
  if(status == "open"){
      return "green";
  }
  if(status == "closed"){
    return "blue";
  }
  if(status == "busy"){
    return "yellow";
  }
  if(status == "broken"){
    return "orange";
  }
  return "white";
}

var HttpClient = function() {
    this.get = function(aUrl, aCallback) {
        var anHttpRequest = new XMLHttpRequest();
        anHttpRequest.onreadystatechange = function() { 
            if (anHttpRequest.readyState == 4 && anHttpRequest.status == 200)
                aCallback(anHttpRequest.responseText);
        }

        anHttpRequest.open( "GET", aUrl, true ); 
        // <span onclick="this.parentElement.style.display='none'" class="closebtn">&times;</span>
        //anHttpRequest = createCORSRequest('GET', aUrl);
        //Send the proper header information along with the request
        anHttpRequest.setRequestHeader("Content-type", "text/plain");    
       // anHttpRequest.setRequestHeader("Message_Type", "Spots");

        anHttpRequest.send( null );
    }
}


</script>
</body>
</html>
